# 围棋游戏服务器

这是一个基于Rust实现的围棋游戏服务器，用于处理多个客户端的连接、房间匹配和游戏状态同步。

## 功能特点

- 集中式服务器架构，所有客户端都连接到同一服务器
- 支持创建房间和加入房间
- 游戏状态同步
- 支持多个房间同时进行
- 使用Tokio异步运行时，高性能低延迟

## 依赖项

- Rust 1.56.0 或更高版本
- Tokio (异步运行时)
- Serde (序列化/反序列化)
- UUID (生成唯一ID)

## 安装和运行

### 安装Rust

如果您还没有安装Rust，请访问 [https://www.rust-lang.org/tools/install](https://www.rust-lang.org/tools/install) 并按照指示安装Rust工具链。

### 编译和运行服务器

1. 进入服务器目录:
```
cd server
```

2. 编译项目:
```
cargo build --release
```

3. 运行服务器:
```
cargo run --release
```

默认情况下，服务器会在`0.0.0.0:8080`上监听连接。

## 网络协议

客户端和服务器之间使用基于JSON的消息协议进行通信。每个消息都由消息长度前缀(4字节)和JSON内容组成。

### 消息类型

- `Join`: 客户端加入游戏
- `CreateRoom`: 创建新房间
- `JoinRoom`: 加入现有房间
- `Move`: 落子消息
- `GameState`: 游戏状态消息

## 部署到公网

1. 确保服务器机器开放了8080端口（或在代码中修改为其他端口）
2. 配置防火墙允许入站连接到此端口
3. 在Java客户端中，修改`Config.java`中的`SERVER_ADDRESS`为服务器的公网IP地址
4. 重新编译Java客户端并分发给用户

## 开发和扩展

- 可添加用户认证系统
- 可实现观战功能
- 可添加排名系统
- 可实现对局记录保存和回放 